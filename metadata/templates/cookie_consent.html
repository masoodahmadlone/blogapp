{% if not request.COOKIES.cookie_consent %}
<div id="cookie-consent-banner" style="position: fixed; bottom: 0; width: 100%; background-color: #f9f9f9; border-top: 1px solid #ccc; padding: 10px; z-index: 1000;">
    <p>This site uses cookies to improve your experience. By clicking "Accept", you consent to the use of cookies. <a href="{% url 'cookie_policy' %}">Learn more</a>.</p>
    <button id="accept-cookies">Accept</button>
</div>
<script>
    document.getElementById('accept-cookies').onclick = function() {
        document.cookie = "cookie_consent=true; path=/; max-age=" + (365 * 24 * 60 * 60); // Set cookie for 1 year
        document.getElementById('cookie-consent-banner').style.display = 'none';
        
        // Optionally, enable other features
        enableNonEssentialCookies();
    };

    function enableNonEssentialCookies() {
        // Initialize analytics or other non-essential cookies
        // Example: Initialize Google Analytics
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-XXXXX-Y', 'auto');
        ga('send', 'pageview');
    }
</script>
{% endif %}
